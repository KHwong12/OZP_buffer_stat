import{fc as C,aD as l,dk as m,di as g,dj as b,dh as a,eM as P,b4 as $,e8 as y,b3 as f,fd as A,a6 as L,eE as D,eI as V,eF as T,h as B,eh as G,fe as H,ff as J,fg as K,fh as E,aF as O,fi as N}from"./index.9da382e4.js";import{s as Q,c as s,f as U}from"./vectorStacks.f85d4a03.js";var h;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(h||(h={}));function Z(t){return t?{origin:C(t.origin),direction:C(t.direction)}:{origin:l(),direction:l()}}function Rt(t,e){const n=et.get();return n.origin=t,n.direction=e,n}function _t(t,e=Z()){return W(t.origin,t.direction,e)}function jt(t,e,n=Z()){return y(n.origin,t),g(n.direction,e,t),n}function W(t,e,n=Z()){return y(n.origin,t),y(n.direction,e),n}function qt(t,e){const n=m(s.get(),b(s.get(),t.direction),g(s.get(),e,t.origin));return a(n,n)}function tt(t,e,n){const o=a(t.direction,g(n,e,t.origin));return P(n,t.origin,$(n,t.direction,o)),n}function nt(){return{origin:null,direction:null}}const et=new Q(nt);function xt(t,e,n){const o=a(t,e)/a(t,t);return $(n,t,o)}function At(t,e){return a(t,e)/f(t)}function ot(t,e){const n=a(t,e)/(f(t)*f(e));return-A(n)}function Zt(t,e,n){b(M,t),b(j,e);const o=a(M,j),r=A(o),i=m(M,M,j);return a(i,n)<0?2*Math.PI-r:r}const M=l(),j=l(),rt=L.getLogger("esri.geometry.support.sphere");function v(){return D()}function X(t,e=v()){return V(e,t)}function it(t,e){return T(t[0],t[1],t[2],e)}function ct(t){return t}function st(t){t[0]=t[1]=t[2]=t[3]=0}function ut(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function S(t){return t[3]}function at(t){return t}function ft(t,e,n,o){return T(t,e,n,o)}function gt(t,e,n){return t!==n&&y(n,t),n[3]=t[3]+e,n}function dt(t,e,n){return rt.error("sphere.setExtent is not yet supported"),t===n?n:X(t,n)}function R(t,e,n){if(B(e))return!1;const{origin:o,direction:r}=e,i=lt;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];const c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],u=2*(r[0]*i[0]+r[1]*i[1]+r[2]*i[2]),p=u*u-4*c*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(p<0)return!1;const w=Math.sqrt(p);let d=(-u-w)/(2*c);const _=(-u+w)/(2*c);return(d<0||_<d&&_>0)&&(d=_),!(d<0)&&(n&&(n[0]=o[0]+r[0]*d,n[1]=o[1]+r[1]*d,n[2]=o[2]+r[2]*d),!0)}const lt=l();function ht(t,e){return R(t,e,null)}function $t(t,e,n){if(R(t,e,n))return n;const o=Y(t,e,s.get());return P(n,e.origin,$(s.get(),e.direction,G(e.origin,o)/f(e.direction))),n}function Y(t,e,n){const o=s.get(),r=U.get();m(o,e.origin,e.direction);const i=S(t);m(n,o,e.origin),$(n,n,1/f(n)*i);const c=z(t,e.origin),u=ot(e.origin,n);return H(r,u+c,o),J(n,n,r),n}function pt(t,e,n){return R(t,e,n)?n:(tt(e,t,n),k(t,n,n))}function k(t,e,n){const o=g(s.get(),e,t),r=$(s.get(),o,t[3]/f(o));return P(n,r,t)}function Mt(t,e){const n=g(s.get(),e,t),o=K(n),r=t[3]*t[3];return Math.sqrt(Math.abs(o-r))}function z(t,e){const n=g(s.get(),e,t),o=f(n),r=S(t),i=r+Math.abs(r-o);return A(r/i)}const q=l();function F(t,e,n,o){const r=g(q,e,t);switch(n){case h.X:{const i=E(r,q)[2];return O(o,-Math.sin(i),Math.cos(i),0)}case h.Y:{const i=E(r,q),c=i[1],u=i[2],p=Math.sin(c);return O(o,-p*Math.cos(u),-p*Math.sin(u),Math.cos(c))}case h.Z:return b(o,r);default:return}}function I(t,e){const n=g(x,e,t);return f(n)-t[3]}function mt(t,e,n,o){const r=I(t,e),i=F(t,e,h.Z,x),c=$(x,i,n-r);return P(o,e,c)}function bt(t,e){const n=N(t,e),o=S(t);return n<=o*o}const x=l(),yt=v();Object.freeze(Object.defineProperty({__proto__:null,create:v,copy:X,fromCenterAndRadius:it,wrap:ct,clear:st,fromRadius:ut,getRadius:S,getCenter:at,fromValues:ft,elevate:gt,setExtent:dt,intersectRay:R,intersectsRay:ht,intersectRayClosestSilhouette:$t,closestPointOnSilhouette:Y,closestPoint:pt,projectPoint:k,distanceToSilhouette:Mt,angleToSilhouette:z,axisAt:F,altitudeAt:I,setAltitudeAt:mt,containsPoint:bt,tmpSphere:yt},Symbol.toStringTag,{value:"Module"}));export{ct as C,at as E,st as O,bt as Q,ht as X,v as _,ot as a,Z as d,xt as e,At as f,qt as h,Zt as i,Rt as j,S as k,_t as l,h as n,jt as p,X as q};
